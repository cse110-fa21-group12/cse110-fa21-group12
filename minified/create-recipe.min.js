const addCategoryButton=document.getElementById("add-category"),categoriesForm=document.getElementById("enter-categories");addCategoryButton.addEventListener("click",function(){const a=document.createElement("input");a.placeholder="Category",a.classList.add("input-field","categories"),a.setAttribute("id","categories"),categoriesForm.appendChild(a)});const addTagButton=document.getElementById("add-tag"),tagsForm=document.getElementById("enter-tags");addTagButton.addEventListener("click",function(){const a=document.createElement("input");a.placeholder="Tag",a.classList.add("input-field","tags"),a.setAttribute("id","tags"),tagsForm.appendChild(a)});const addIngredientButton=document.getElementById("add-ingredient-button"),ingredientForm=document.getElementById("ingredients-form");addIngredientButton.addEventListener("click",function(){const a=document.createElement("input"),b=document.createElement("input");a.placeholder="Ingredient Name",a.setAttribute("class","ingredient"),b.setAttribute("class","quantity"),b.placeholder="Amount",ingredientForm.appendChild(b),ingredientForm.appendChild(a)}),addIngredientButton.click();const addDirectionsButton=document.getElementById("add-directions-button"),directionsForm=document.getElementById("enter-directions");var i=1;addDirectionsButton.addEventListener("click",function(){const a=document.createElement("input");a.placeholder="Step "+i,i++,a.setAttribute("class","directions"),directionsForm.appendChild(document.createElement("br")),directionsForm.appendChild(a),directionsForm.appendChild(document.createElement("br"))}),addDirectionsButton.click();const saveRecipeButton=document.getElementById("save-recipe");saveRecipeButton.addEventListener("click",()=>{const a=document.getElementById("title").value,b=document.getElementById("description").value,c=document.getElementsByClassName("categories"),d=document.getElementsByClassName("tags"),e=document.getElementById("prep-time").value,f=document.getElementById("cook-time").value,g=document.getElementById("total-time").value,h=document.getElementsByClassName("ingredient"),j=document.getElementsByClassName("quantity"),k=[];for(let a=0;a<c.length;a++)k[a]=c[a].value;const l=[];for(let a=0;a<d.length;a++)l[a]=d[a].value;const m={};for(let a=0;a<h.length;a++)m[h[a].value]=j[a].value;const n=document.getElementsByClassName("directions"),o=[];for(let a=0;a<n.length;a++)o[a]=n[a].value;const p=JSON.stringify({id:a,title:a,description:b,categories:k,tags:l,preparationTime:e,cookingTime:f,totalTime:g,ingredients:m,directions:o}),q=document.getElementById("file-ip-1"),r=new FormData;r.append("json",p),r.append("img",q.files[0]),fetch("/recipes/create",{method:"PUT",body:r}).then(a=>a.json()).then(b=>{console.log("Success:",b),localStorage.setItem("id",a),setTimeout(1e3)}).catch(a=>{console.error("Error:",a)})});