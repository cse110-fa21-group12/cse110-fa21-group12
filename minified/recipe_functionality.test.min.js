const puppeteer = require("puppeteer"),
  URL_HOMEPAGE = "http://127.0.0.1:5500/source/home.html",
  URL_MY_RECIPE =
    "https://cre-ate-recipe.herokuapp.com/source/recipe-list.html",
  URL_CREATE_RECIPE = "http://127.0.0.1:5500/source/create-recipe.html",
  title = "Matcha Mille Crepe Cake",
  description =
    "Matcha Mille Crepe Cake is made of thin layers of green tea crepes stacked together with fresh whipped cream in-between. This elegant and decadent cake will wow your guests when they see the rich green layers!",
  category = "Dessert",
  tags = "Delicious",
  prep_time = "20 minutes",
  cook_time = "40 minutes",
  total_time = "4 hours (with 3 hours resting and chilling)";
describe("My Recipe", () => {
  beforeAll(async () => {
    await page.goto(URL_MY_RECIPE), await page.waitForTimeout(500);
  }),
    it("create my first recipe", async () => {
      const a = await page.$("#createRecipe");
      await a.click();
    }),
    it("input for create recipe", async () => {
      await page.goto(URL_CREATE_RECIPE),
        await page.type("#title", title),
        await page.type("#description", description),
        await page.type("#categories", category),
        await page.type("#tags", tags),
        await page.type("#prep-time", prep_time),
        await page.type("#cook-time", cook_time),
        await page.type("#total-time", total_time),
        await page.type("#quantity", "2"),
        await page.click("#add-ingredient-button");
    }),
    it("search with query", async () => {
      await page.goto(URL_HOMEPAGE),
        await page.type("#recipe-search", "pasta"),
        await page.click("#search-button");
    });
});
